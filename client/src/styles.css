@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global styles */
body {
  font-family: 'Inter', sans-serif;
}

/* Book card entrance and hover effects */
@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.book-card {
  animation: fadeUp 420ms ease forwards;
  will-change: transform, opacity;
}

.book-card-img {
  transition: transform 320ms cubic-bezier(.2,.9,.3,1);
}

.book-card:hover .book-card-img {
  transform: scale(1.03) translateY(-4px) rotate(-0.5deg);
}

.card-shimmer {
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.06) 40%, rgba(255,255,255,0.12) 50%, rgba(255,255,255,0.06) 60%, rgba(255,255,255,0) 100%);
  background-size: 200% 100%;
}

.book-card:hover .card-shimmer {
  animation: shimmer 900ms linear infinite;
  opacity: 0.6;
}

/* Slight focus ring for keyboard users */
.book-card:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(34,197,94,0.15);
}

/* Book opening animation (played on click) */
@keyframes bookOpen {
  0% {
    transform: perspective(700px) translateY(0) rotateX(0deg) scale(1);
    box-shadow: 0 6px 18px rgba(0,0,0,0.18);
  }
  40% {
    transform: perspective(700px) translateY(-6px) rotateX(8deg) scale(1.02);
    box-shadow: 0 18px 32px rgba(0,0,0,0.25);
  }
  70% {
    transform: perspective(700px) translateY(-2px) rotateX(-6deg) scale(1.01);
    box-shadow: 0 22px 36px rgba(0,0,0,0.28);
  }
  100% {
    transform: perspective(700px) translateY(0) rotateX(0deg) scale(1);
    box-shadow: 0 6px 18px rgba(0,0,0,0.18);
  }
}

.book-card.opening {
  animation: bookOpen 520ms cubic-bezier(.2,.9,.3,1) both;
}

/* Slight inner cover peel visual: nudge image during opening */
.book-card.opening .book-card-img {
  transform: scale(1.04) translateY(-6px) rotate(-1deg);
}

/* Modal/backdrop animations for BookDetailsModal */
@keyframes backdropFade {
  from { background-color: rgba(0,0,0,0); backdrop-filter: blur(0px); }
  to   { background-color: rgba(0,0,0,0.7); backdrop-filter: blur(4px); }
}

@keyframes panelPop {
  from { transform: translateY(12px) scale(0.98); opacity: 0; }
  60%  { transform: translateY(-6px) scale(1.02); opacity: 1; }
  to   { transform: translateY(0) scale(1); opacity: 1; }
}

.modal-backdrop.modal-open {
  animation: backdropFade 360ms ease forwards;
}
.modal-backdrop.modal-closed {
  animation: backdropFade 220ms ease reverse forwards;
}

.modal-panel.panel-open {
  animation: panelPop 420ms cubic-bezier(.2,.9,.25,1) both;
}
.modal-panel.panel-closed {
  animation: panelPop 240ms cubic-bezier(.2,.9,.25,1) reverse both;
}